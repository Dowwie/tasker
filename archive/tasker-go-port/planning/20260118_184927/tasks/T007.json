{
  "id": "T007",
  "name": "DAG validation and cycle detection",
  "phase": 2,
  "context": {
    "domain": "Validation",
    "capability": "DAG Validation",
    "spec_ref": {
      "quote": "DetectCycles - Check for dependency cycles using topological sort",
      "location": "validate.py docstring"
    },
    "steel_thread": false
  },
  "behaviors": ["B24", "B25", "B26"],
  "files": [
    {
      "path": "go/internal/validate/dag.go",
      "action": "create",
      "purpose": "DetectCycles, ValidateSteelThread, CheckDependencyExistence operations"
    },
    {
      "path": "go/internal/validate/dag_test.go",
      "action": "create",
      "purpose": "Unit tests for DAG validation"
    },
    {
      "path": "go/internal/command/validate/validate.go",
      "action": "create",
      "purpose": "Validate subcommands (dag, gates, steel-thread)"
    }
  ],
  "dependencies": {
    "tasks": ["T002"],
    "external": []
  },
  "acceptance_criteria": [
    {
      "criterion": "DetectCycles identifies circular dependencies in task graph",
      "verification": "go test ./go/internal/validate/... -run TestDetectCycles -v"
    },
    {
      "criterion": "ValidateSteelThread verifies steel thread path exists and is valid",
      "verification": "go test ./go/internal/validate/... -run TestValidateSteelThread -v"
    },
    {
      "criterion": "CheckDependencyExistence verifies all referenced dependencies exist",
      "verification": "go test ./go/internal/validate/... -run TestCheckDependencyExistence -v"
    }
  ],
  "constraints": [],
  "estimate_hours": 3
}
